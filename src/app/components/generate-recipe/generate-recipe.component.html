<div class="chat-panel">
   <div class="header" (click)="showPreferencePanel = !showPreferencePanel;">
     <span>Set your preferences</span>
     <img src="../../../assets/icons/down-arrow.svg" height="20" width="20"/>
     <div class="preferences" *ngIf="showPreferencePanel">
       <div class="preferences-options" (click)="$event.stopPropagation()">
         <label for="cooking-level">Cooking Level:</label>
         <select id="cooking-level" [(ngModel)]="cookingLevel">
           <option value="">Select Cooking Level</option>
           <option value="beginner">Beginner</option>
           <option value="intermediate">Intermediate</option>
           <option value="advanced">Advanced</option>
         </select>
       </div>
       <div class="preferences-options" (click)="$event.stopPropagation()">
         <label for="spice-level">Spice Level:</label>
         <select id="spice-level" [(ngModel)]="spiceLevel">
           <option value="">Select Spice Level</option>
           <option value="mild">Low Spicy</option>
           <option value="medium">Medium Spicy</option>
           <option value="hot">Very Spicy</option>
         </select>
       </div>
       <div class="preferences-options" (click)="$event.stopPropagation()">
         <label for="allergies">Allergies:</label>
         <input
           type="text"
           id="allergies"
           [(ngModel)]="allergies"
           placeholder="Enter allergies (comma-separated)"
         />
       </div>
     </div>
   </div>
   
   <div class="messages-container">
     <div *ngFor="let message of messages" class="message" [ngClass]="message.sender">
       <strong class="user-profile-name" *ngIf="message.sender === 'user'">You:</strong>
       <strong class="user-profile-name" *ngIf="message.sender === 'bot'">Bot:</strong>
       <p>{{ message.content }}</p>
       <span class="timestamp">{{ message.timestamp | date:'shortTime' }}</span>
         <div class="actions" *ngIf="message.sender === 'bot'">
            <span class="cursor-pointer" (click)="share(message.content)">Share</span>
            <span class="cursor-pointer" (click)="saveRecipe()" *ngIf="userService.isUserLoggedIn">Save</span>
         </div>
     </div>
     <div *ngIf="botError" class="bot">
      <strong class="user-profile-name">Bot:</strong>
      <p>Error while processing. please try again</p>

     </div>
   </div>
   
   <div class="input-container">
     <input
       type="text"
       [(ngModel)]="messageInput"
       placeholder="Type your message..."
       (keydown.enter)="sendMessage()"
       [disabled]="responseLoading"
     />
     <button (click)="sendMessage()" [disabled]="responseLoading">Send</button>
   </div>
</div>
